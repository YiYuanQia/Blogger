import{s as p}from"./index.9285e75a.js";import{_ as m,o as d,c as u,a as e,e as i,w as l,b as a}from"./index.a778bde6.js";const h={data(){return{username:"",name:"",password:"",store:p}},methods:{login:function(){if(this.username.trim()==""||this.password.trim()==""){alert("\u7528\u6237\u540D\u6216\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A\uFF0C\u8BF7\u8F93\u5165\u8D26\u53F7\u5BC6\u7801");return}fetch("https://db-api.amarea.cn/users/"+this.username).then(s=>s.json()).then(s=>{if(console.log(s),s.id===this.username&&s.password===this.password)console.log(s.name),console.log(s),this.store.nickname=s.name,this.store.phone=s.phone,this.store.sex=s.sex,this.store.emailaddress=s.email,this.store.password=s.password,localStorage.setItem("nickname",this.store.nickname),localStorage.setItem("phone",this.store.phone),localStorage.setItem("sex",this.store.sex),localStorage.setItem("email",this.store.emailaddress),localStorage.setItem("password",this.store.password),this.$router.push("./web");else throw new Error("\u8D26\u53F7\u6216\u5BC6\u7801\u9519\u8BEF")}).catch(s=>alert(s))},sign:function(){this.$router.push("/sign")}}},c={class:"wrap"},g={style:{border:"2px solid #000",padding:"40px","border-radius":"8px"}},_=e("div",{class:"form-group"},[e("p",{style:{"font-size":"22px",margin:"0 auto"}},"\u7528\u6237\u767B\u5F55")],-1),f={class:"form-group"},w={class:"form-group"},x={class:"buttonLogin"};function b(s,o,v,y,r,n){return d(),u("div",c,[e("form",g,[_,e("div",f,[e("p",null,[i(" \u8D26\u6237: "),l(e("input",{style:{height:25+"px"},"onUpdate:modelValue":o[0]||(o[0]=t=>r.username=t),type:"text",placeholder:"\u8BF7\u8F93\u5165\u8D26\u6237\u540D"},null,512),[[a,r.username]])])]),e("div",w,[e("p",null,[i(" \u5BC6\u7801: "),l(e("input",{style:{height:25+"px"},"onUpdate:modelValue":o[1]||(o[1]=t=>r.password=t),type:"password",placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801"},null,512),[[a,r.password]])])]),e("div",x,[e("button",{class:"btn",onClick:o[2]||(o[2]=(...t)=>n.login&&n.login(...t))},"\u767B\u5F55"),e("button",{class:"btn",onClick:o[3]||(o[3]=(...t)=>n.sign&&n.sign(...t))},"\u6CE8\u518C")])])])}const S=m(h,[["render",b]]);export{S as default};
