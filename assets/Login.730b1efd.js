import{s as p}from"./index.71a58e6b.js";import{_ as d,o as u,c as m,a as i,t as c,b as e,w as l,v as a,F as g}from"./index.eccb33de.js";const h={data(){return{username:"",password:"",store:p}},methods:{login:function(){if(this.username.trim()==""||this.password.trim()==""){alert("\u7528\u6237\u540D\u6216\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A\uFF0C\u8BF7\u8F93\u5165\u8D26\u53F7\u5BC6\u7801");return}fetch("https://blog-server-api.amarea.cn/user/login",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.username.trim(),password:this.password.trim()})}).then(s=>s.json()).then(s=>{if(console.log(s),s.code==0)localStorage.setItem("uid",s.data.id),localStorage.setItem("token",s.data.token),alert("\u767B\u9646\u6210\u529F"),this.$router.push("/home");else throw new Error("\u8D26\u53F7\u6216\u5BC6\u7801\u9519\u8BEF")}).catch(s=>alert(s))},sign:function(){this.$router.push("/sign")}}},_={class:"wrap"},f={style:{border:"2px solid #000",padding:"40px","border-radius":"8px"}},w=e("div",{class:"form-group"},[e("p",{style:{"font-size":"22px",margin:"0 auto"}},"\u7528\u6237\u767B\u5F55")],-1),x={class:"form-group"},y={class:"form-group"},v={class:"buttonLogin"};function b(s,t,k,S,r,n){return u(),m(g,null,[i(c(s.uid)+" ",1),e("div",_,[e("form",f,[w,e("div",x,[e("p",null,[i(" \u8D26\u6237: "),l(e("input",{style:{height:25+"px"},"onUpdate:modelValue":t[0]||(t[0]=o=>r.username=o),type:"text",placeholder:"\u8BF7\u8F93\u5165\u8D26\u6237\u540D"},null,512),[[a,r.username]])])]),e("div",y,[e("p",null,[i(" \u5BC6\u7801: "),l(e("input",{style:{height:25+"px"},"onUpdate:modelValue":t[1]||(t[1]=o=>r.password=o),type:"password",placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801"},null,512),[[a,r.password]])])]),e("div",v,[e("button",{class:"btn",onClick:t[2]||(t[2]=(...o)=>n.login&&n.login(...o))},"\u767B\u5F55"),e("button",{class:"btn",onClick:t[3]||(t[3]=(...o)=>n.sign&&n.sign(...o))},"\u6CE8\u518C")])])])],64)}const C=d(h,[["render",b]]);export{C as default};
