import{_ as c,o as u,c as h,b as n,a as r,w as l,v as a}from"./index.eccb33de.js";const p={data(){return{title:"",content:"",token:""}},methods:{publish:function(){if(this.title.trim()==""){alert("\u6807\u9898\u4E0D\u53EF\u4E3A\u7A7A");return}if(this.content.trim()==""){alert("\u5185\u5BB9\u4E0D\u53EF\u4E3A\u7A7A");return}fetch("https://blog-server-api.amarea.cn/post/newPost",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:this.token.trim(),title:this.title.trim(),text:this.content.trim()})}).then(t=>t.json()).then(t=>{t.code==0?(alert("\u53D1\u5E03\u6210\u529F"),this.$router.push("/home")):alert(t.msg),console.log(t)}).catch(t=>alert(t))}},mounted(){this.token=localStorage.getItem("token"),this.token||(alert("\u8BF7\u5148\u767B\u5F55"),this.$router.push("/login"))}},d={class:"container"},m={class:"title"},_={class:"content"};function f(t,e,k,v,s,i){return u(),h("div",d,[n("div",m,[r(" \u6807\u9898 "),l(n("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=o=>s.title=o)},null,512),[[a,s.title]])]),n("div",_,[r(" \u5185\u5BB9 "),l(n("textarea",{"onUpdate:modelValue":e[1]||(e[1]=o=>s.content=o)},null,512),[[a,s.content]])]),n("button",{onClick:e[2]||(e[2]=(...o)=>i.publish&&i.publish(...o))},"\u53D1\u5E03")])}const g=c(p,[["render",f]]);export{g as default};
