import{s as p}from"./index.bf2ef14a.js";import{_ as d,o as m,c as u,a as e,e as i,w as l,b as a}from"./index.da18f286.js";const h={data(){return{username:"",name:"",password:"",store:p}},methods:{login:function(){if(this.username.trim()==""||this.password.trim()==""){alert("\u7528\u6237\u540D\u6216\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A\uFF0C\u8BF7\u8F93\u5165\u8D26\u53F7\u5BC6\u7801");return}fetch("https://db-api.amarea.cn/users/"+this.username).then(s=>s.json()).then(s=>{if(console.log(s),s.id===this.username&&s.password===this.password)console.log(s),this.store.nickname=s.name,this.store.phone=s.phone,this.store.sex=s.sex,this.store.emailaddress=s.email,this.store.password=s.password,localStorage.setItem("id",JSON.stringify(s.id)),localStorage.setItem("nickname",JSON.stringify(this.store.nickname)),localStorage.setItem("phone",this.store.phone),localStorage.setItem("sex",this.store.sex),localStorage.setItem("email",this.store.emailaddress),localStorage.setItem("password",this.store.password),this.$router.push("./web");else throw new Error("\u8D26\u53F7\u6216\u5BC6\u7801\u9519\u8BEF")}).catch(s=>alert(s))},sign:function(){this.$router.push("/sign")}}},c={class:"wrap"},g={style:{border:"2px solid #000",padding:"40px","border-radius":"8px"}},_=e("div",{class:"form-group"},[e("p",{style:{"font-size":"22px",margin:"0 auto"}},"\u7528\u6237\u767B\u5F55")],-1),f={class:"form-group"},w={class:"form-group"},x={class:"buttonLogin"};function b(s,t,y,v,r,n){return m(),u("div",c,[e("form",g,[_,e("div",f,[e("p",null,[i(" \u8D26\u6237: "),l(e("input",{style:{height:25+"px"},"onUpdate:modelValue":t[0]||(t[0]=o=>r.username=o),type:"text",placeholder:"\u8BF7\u8F93\u5165\u8D26\u6237\u540D"},null,512),[[a,r.username]])])]),e("div",w,[e("p",null,[i(" \u5BC6\u7801: "),l(e("input",{style:{height:25+"px"},"onUpdate:modelValue":t[1]||(t[1]=o=>r.password=o),type:"password",placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801"},null,512),[[a,r.password]])])]),e("div",x,[e("button",{class:"btn",onClick:t[2]||(t[2]=(...o)=>n.login&&n.login(...o))},"\u767B\u5F55"),e("button",{class:"btn",onClick:t[3]||(t[3]=(...o)=>n.sign&&n.sign(...o))},"\u6CE8\u518C")])])])}const I=d(h,[["render",b]]);export{I as default};
